{"version":3,"file":"js/711.a9d5a6b9.js","mappings":"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","sources":["webpack://krustykrab_bgmanagement/./src/views/Home/childrens/PayList.vue","webpack://krustykrab_bgmanagement/./src/views/Home/childrens/PayList.vue?51e3"],"sourcesContent":["import \"core-js/modules/es.array.push.js\";\nimport { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../../../assets/book.png';\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-d32f19e2\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n}, null, -1));\n\nimport { ref, reactive, computed, onMounted } from \"vue\";\nimport apiUrl from \"../../../api/apiUrl\";\nimport link from \"../../../api/link\";\nimport { useStore } from \"vuex\";\nimport bus from \"../../../utils/bus.js\";\nimport axios from \"axios\";\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PayList',\n\n  setup(__props) {\n    let store = useStore();\n    let tableData = reactive([{\n      id: \"001\",\n      item: \"蟹黄堡\",\n      num: 3,\n      price: \"$3.75\",\n      type: \"堂食\"\n    }, {\n      id: \"002\",\n      item: \"蟹黄堡\",\n      num: 1,\n      price: \"$1.25\",\n      type: \"堂食\"\n    }, {\n      id: \"002\",\n      item: \"香炸珊瑚(中号)\",\n      num: 1,\n      price: \"$1.25\",\n      type: \"堂食\"\n    }, {\n      id: \"003\",\n      item: \"双层蟹黄堡\",\n      num: 2,\n      price: \"$4.00\",\n      type: \"打包\"\n    }, {\n      id: \"003\",\n      item: \"海带奶昔\",\n      num: 2,\n      price: \"$4.00\",\n      type: \"打包\"\n    }]); // 用于展示的表格数据\n\n    let curEdit = {}; // 当前修改后的订单信息\n\n    let curEditUser = ref(-1);\n    const currentPage = ref(1); // 当前页码\n\n    const pageSize = ref(10); // 页面容量\n\n    let search = ref(\"\"); // 搜索项\n\n    let startIndex = computed(() => {\n      // 用于计算当前页面的开始项在数组中下标\n      return (currentPage.value - 1) * pageSize.value;\n    });\n    let endIndex = computed(() => {\n      return startIndex.value + pageSize.value - 1;\n    });\n\n    const handleSizeChange = val => {\n      console.log(`${val} items per page`);\n      console.log(\"pageSize：\", pageSize);\n    };\n\n    const handleCurrentChange = val => {\n      console.log(`current page: ${val}`);\n    }; // 订单信息编辑\n\n\n    const handleEdit = (index, row) => {\n      console.log(\"修改订单：\", index, row);\n      curEditUser.value = row.id;\n      store.commit(\"SET_DIALOG\");\n    }; // 订单删除\n\n\n    const handleDelete = (index, row) => {\n      console.log(index, row);\n    }; // 执行订单查询\n\n\n    const handleSearch = () => {\n      if (store.state.HomeModule.viewStatic) {} else {\n        link(apiUrl.userList, \"GET\", {}, {\n          owner: search.value\n        }).then(value => {\n          tableData.splice(0, tableData.length, value.data[0]);\n          console.log(\"查询结果：\", tableData);\n        });\n      }\n    }; // 请求订单数据\n\n\n    onMounted(() => {\n      if (store.state.HomeModule.viewStatic) {} else {\n        link(apiUrl.userList).then(value => {\n          for (let i of value.data) {\n            tableData.push(i);\n          }\n        });\n      } // 监听是否有数据修改\n\n\n      bus.on(\"userUpdate\", key => {\n        curEdit = key;\n\n        if (store.state.HomeModule.viewStatic) {\n          axios.patch(\"./staticData.json\" + \"/\" + curEditUser.value, curEdit, {}).then(value => {\n            console.log(\"收到了修改订单的请求:\", value.data);\n          }).catch(reason => {\n            console.log(\"错了：\", reason);\n          });\n        } else {\n          link(apiUrl.userList + \"/\" + curEditUser.value, \"PATCH\", curEdit, {}).then(value => {\n            console.log(\"收到了修改订单的请求:\", value.data);\n          });\n        }\n\n        window.location.reload();\n      });\n    });\n    return (_ctx, _cache) => {\n      const _component_el_table_column = _resolveComponent(\"el-table-column\");\n\n      const _component_el_table = _resolveComponent(\"el-table\");\n\n      const _component_el_pagination = _resolveComponent(\"el-pagination\");\n\n      return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_el_table, {\n        data: _unref(tableData).slice(_unref(startIndex), _unref(endIndex)),\n        stripe: \"\",\n        style: {\n          \"width\": \"100%\"\n        }\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_table_column, {\n          prop: \"id\",\n          label: \"编号\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"item\",\n          label: \"菜品\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"num\",\n          label: \"数量\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"price\",\n          label: \"价格\",\n          width: \"180\"\n        }), _createVNode(_component_el_table_column, {\n          prop: \"type\",\n          label: \"类型\"\n        })]),\n        _: 1\n      }, 8, [\"data\"]), _createVNode(_component_el_pagination, {\n        currentPage: currentPage.value,\n        \"onUpdate:currentPage\": _cache[0] || (_cache[0] = $event => currentPage.value = $event),\n        \"page-size\": pageSize.value,\n        \"onUpdate:page-size\": _cache[1] || (_cache[1] = $event => pageSize.value = $event),\n        layout: \"total, sizes, prev, pager, next, jumper\",\n        total: _unref(tableData).length,\n        onSizeChange: handleSizeChange,\n        onCurrentChange: handleCurrentChange,\n        style: {\n          \"margin-top\": \"30px\"\n        }\n      }, null, 8, [\"currentPage\", \"page-size\", \"total\"]), _hoisted_1]);\n    };\n  }\n\n});","/* unplugin-vue-components disabled */import script from \"./PayList.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PayList.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PayList.vue?vue&type=style&index=0&id=d32f19e2&lang=scss&scoped=true\"\n\nimport exportComponent from \"F:\\\\Workspace\\\\Programs\\\\FRONT\\\\Project\\\\KrustyKrab_bgManagement\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d32f19e2\"]])\n\nexport default __exports__"],"names":["_withScopeId","n","_hoisted_1","_","src","alt","__name","setup","__props","store","tableData","id","item","num","price","type","curEdit","curEditUser","currentPage","pageSize","startIndex","value","endIndex","handleSizeChange","val","console","log","handleCurrentChange","state","HomeModule","viewStatic","apiUrl","then","i","data","push","bus","key","catch","reason","window","location","reload","_ctx","_cache","_component_el_table_column","_component_el_table","_component_el_pagination","slice","stripe","style","default","prop","label","width","$event","layout","total","length","onSizeChange","onCurrentChange","__exports__"],"sourceRoot":""}