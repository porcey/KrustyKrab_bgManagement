"use strict";(self["webpackChunkkrustykrab_bgmanagement"]=self["webpackChunkkrustykrab_bgmanagement"]||[]).push([[135],{4505:function(e,a,l){l.d(a,{Z:function(){return w}});var t=l(2472),n=(l(1844),l(3421)),o=(l(6809),l(8131)),m=(l(2064),l(7113),l(9866)),d=(l(172),l(3396)),i=l(4870),u=l(65),s=(l(8510),l(5936)),r=l(1733);const p={class:"dialog-footer"};var c={__name:"UpdateDialog",setup(e){let a=(0,u.oR)();const l="140px",c=(0,i.qj)({name:"",post:""}),g=(0,i.qj)({nameEn:"",nameZn:"",price:""});let f=e=>{if(e){let e={name:c.name,post:c.post};for(let a in e)0==e[a]&&delete e[a];(0,r.Z)(s.Z.userList,"GET",{},{}).then((e=>{tableData.splice(0,tableData.length,e.data[0])}))}a.commit("SET_DIALOG","")};return(e,u)=>{const s=m.EZ,r=o.nH,w=o.ly,b=n.mi,Z=t.d0;return(0,d.wg)(),(0,d.j4)(Z,{modelValue:(0,i.SU)(a).state.HomeModule.dialogFormVisible,"onUpdate:modelValue":u[7]||(u[7]=e=>(0,i.SU)(a).state.HomeModule.dialogFormVisible=e),title:"修改信息"},{footer:(0,d.w5)((()=>[(0,d._)("span",p,[(0,d.Wm)(b,{onClick:u[5]||(u[5]=e=>(0,i.SU)(f)(0))},{default:(0,d.w5)((()=>[(0,d.Uk)("Cancel")])),_:1}),(0,d.Wm)(b,{type:"primary",onClick:u[6]||(u[6]=e=>(0,i.SU)(f)(1))},{default:(0,d.w5)((()=>[(0,d.Uk)("Confirm")])),_:1})])])),default:(0,d.w5)((()=>["crew"===(0,i.SU)(a).state.HomeModule.dialogType?((0,d.wg)(),(0,d.j4)(w,{key:0,model:c},{default:(0,d.w5)((()=>[(0,d.Wm)(r,{label:"姓名","label-width":l},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{modelValue:c.name,"onUpdate:modelValue":u[0]||(u[0]=e=>c.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(r,{label:"职位","label-width":l},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{modelValue:c.post,"onUpdate:modelValue":u[1]||(u[1]=e=>c.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):(0,d.kq)("",!0),"menu"===(0,i.SU)(a).state.HomeModule.dialogType?((0,d.wg)(),(0,d.j4)(w,{key:1,model:c},{default:(0,d.w5)((()=>[(0,d.Wm)(r,{label:"英文名","label-width":l},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{modelValue:g.name,"onUpdate:modelValue":u[2]||(u[2]=e=>g.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(r,{label:"中文名","label-width":l},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{modelValue:g.post,"onUpdate:modelValue":u[3]||(u[3]=e=>g.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,d.Wm)(r,{label:"价格","label-width":l},{default:(0,d.w5)((()=>[(0,d.Wm)(s,{modelValue:g.post,"onUpdate:modelValue":u[4]||(u[4]=e=>g.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):(0,d.kq)("",!0)])),_:1},8,["modelValue"])}}},g=l(89);const f=(0,g.Z)(c,[["__scopeId","data-v-10acd3da"]]);var w=f},7443:function(e,a,l){l.r(a),l.d(a,{default:function(){return h}});var t=l(2085),n=(l(2760),l(8061)),o=(l(6905),l(3421)),m=(l(6809),l(9007),l(7658),l(3396)),d=l(4870),i=l.p+"img/KP.4358eaad.png",u=l(5936),s=l(1733),r=l(4505),p=l(65),c=l(8510),g=l(6265),f=l.n(g);const w=e=>((0,m.dD)("data-v-4d6d5831"),e=e(),(0,m.Cn)(),e),b=w((()=>(0,m._)("img",{src:i,alt:""},null,-1)));var Z=(0,m.aZ)({__name:"MenuList",setup(e){let a=(0,p.oR)(),l=(0,d.qj)([{id:1,nameEn:"Krabby patty",nameZn:"蟹黄堡",price:"$1.25"},{id:2,nameEn:"salty sea dog",nameZn:"美味热狗",price:"$1.25"},{id:3,nameEn:"double krabby patty",nameZn:"双层蟹黄堡",price:"$2.00"},{id:4,nameEn:"kelp rings",nameZn:"海带圈",price:"$1.50"},{id:5,nameEn:"coral bits(medium)",nameZn:"香炸珊瑚(中号)",price:"$1.25"},{id:6,nameEn:"seafoam soda(medium)",nameZn:"健怡可乐(中杯)",price:"$1.25"},{id:7,nameEn:"kelp shake",nameZn:"海带奶昔",price:"$2.00"},{id:8,nameEn:"krabby meal",nameZn:"蟹黄堡套餐",price:"$3.50"},{id:9,nameEn:"footlong",nameZn:"潜艇堡",price:"$2.00"},{id:10,nameEn:"sailors surprise",nameZn:"水手惊喜",price:"$3.00"},{id:11,nameEn:"salty sauce",nameZn:"咸味酱",price:"$0.50"}]),i={},g=(0,d.iH)(-1);const w=(0,d.iH)(1),Z=(0,d.iH)(10);let _=(0,d.iH)(""),k=(0,m.Fl)((()=>(w.value-1)*Z.value)),h=(0,m.Fl)((()=>k.value+Z.value));const v=e=>{console.log(`${e} items per page`),console.log("pageSize：",Z)},U=e=>{console.log(`current page: ${e}`)},W=(e,l)=>{console.log("修改菜品：",e,l),g.value=l.id,a.commit("SET_DIALOG","menu")},y=(e,a)=>{(0,s.Z)(u.Z.userList,"GET",{},{owner:_.value}).then((e=>{l.splice(0,l.length,e.data[0]),console.log("删除结果：",l)}))};return(0,m.bv)((()=>{a.state.HomeModule.viewStatic||(0,s.Z)(u.Z.userList).then((e=>{for(let a of e.data)l.push(a)})),c.Z.on("userUpdate",(e=>{i=e,a.state.HomeModule.viewStatic?f().patch("./staticData.json/"+g.value,i,{}).then((e=>{console.log("收到了修改菜品的请求:",e.data)})).catch((e=>{console.log("错了：",e)})):(0,s.Z)(u.Z.userList+"/"+g.value,"PATCH",i,{}).then((e=>{console.log("收到了修改菜品的请求:",e.data)})),window.location.reload()}))})),(e,a)=>{const i=n.$Y,u=o.mi,s=n.eI,p=t.R;return(0,m.wg)(),(0,m.iD)("div",null,[(0,m.Wm)(s,{data:(0,d.SU)(l).slice((0,d.SU)(k),(0,d.SU)(h)),stripe:"",style:{width:"100%"}},{default:(0,m.w5)((()=>[(0,m.Wm)(i,{prop:"id",label:"编号",width:"80"}),(0,m.Wm)(i,{prop:"nameEn",label:"英文名",width:"220"}),(0,m.Wm)(i,{prop:"nameZn",label:"中文名",width:"220"}),(0,m.Wm)(i,{prop:"price",label:"价格"}),(0,m.Wm)(i,{label:"操作"},{default:(0,m.w5)((e=>[(0,m.Wm)(u,{size:"small",onClick:a=>W(e.$index,e.row)},{default:(0,m.w5)((()=>[(0,m.Uk)("修改")])),_:2},1032,["onClick"]),(0,m.Wm)(u,{size:"small",type:"danger",onClick:a=>y(e.$index,e.row)},{default:(0,m.w5)((()=>[(0,m.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,m.Wm)(p,{currentPage:w.value,"onUpdate:currentPage":a[0]||(a[0]=e=>w.value=e),"page-size":Z.value,"onUpdate:page-size":a[1]||(a[1]=e=>Z.value=e),layout:"total, sizes, prev, pager, next, jumper",total:(0,d.SU)(l).length,onSizeChange:v,onCurrentChange:U,style:{"margin-top":"30px"}},null,8,["currentPage","page-size","total"]),(0,m.Wm)(r.Z),b])}}}),_=l(89);const k=(0,_.Z)(Z,[["__scopeId","data-v-4d6d5831"]]);var h=k}}]);
//# sourceMappingURL=135.011b146d.js.map