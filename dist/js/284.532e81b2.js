"use strict";(self["webpackChunkkrustykrab_bgmanagement"]=self["webpackChunkkrustykrab_bgmanagement"]||[]).push([[284],{4505:function(e,l,a){a.d(l,{Z:function(){return f}});var t=a(2472),o=(a(1844),a(3421)),n=(a(6809),a(8131)),d=(a(2064),a(7113),a(9866)),u=(a(172),a(3396)),m=a(4870),s=a(65),i=(a(8510),a(5936)),p=a(1733);const r={class:"dialog-footer"};var c={__name:"UpdateDialog",setup(e){let l=(0,s.oR)();const a="140px",c=(0,m.qj)({name:"",post:""}),g=(0,m.qj)({nameEn:"",nameZn:"",price:""});let w=e=>{if(e){let e={name:c.name,post:c.post};for(let l in e)0==e[l]&&delete e[l];(0,p.Z)(i.Z.userList,"GET",{},{}).then((e=>{tableData.splice(0,tableData.length,e.data[0])}))}l.commit("SET_DIALOG","")};return(e,s)=>{const i=d.EZ,p=n.nH,f=n.ly,_=o.mi,b=t.d0;return(0,u.wg)(),(0,u.j4)(b,{modelValue:(0,m.SU)(l).state.HomeModule.dialogFormVisible,"onUpdate:modelValue":s[7]||(s[7]=e=>(0,m.SU)(l).state.HomeModule.dialogFormVisible=e),title:"修改信息"},{footer:(0,u.w5)((()=>[(0,u._)("span",r,[(0,u.Wm)(_,{onClick:s[5]||(s[5]=e=>(0,m.SU)(w)(0))},{default:(0,u.w5)((()=>[(0,u.Uk)("Cancel")])),_:1}),(0,u.Wm)(_,{type:"primary",onClick:s[6]||(s[6]=e=>(0,m.SU)(w)(1))},{default:(0,u.w5)((()=>[(0,u.Uk)("Confirm")])),_:1})])])),default:(0,u.w5)((()=>["crew"===(0,m.SU)(l).state.HomeModule.dialogType?((0,u.wg)(),(0,u.j4)(f,{key:0,model:c},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{label:"姓名","label-width":a},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{modelValue:c.name,"onUpdate:modelValue":s[0]||(s[0]=e=>c.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(p,{label:"职位","label-width":a},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{modelValue:c.post,"onUpdate:modelValue":s[1]||(s[1]=e=>c.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):(0,u.kq)("",!0),"menu"===(0,m.SU)(l).state.HomeModule.dialogType?((0,u.wg)(),(0,u.j4)(f,{key:1,model:c},{default:(0,u.w5)((()=>[(0,u.Wm)(p,{label:"英文名","label-width":a},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{modelValue:g.name,"onUpdate:modelValue":s[2]||(s[2]=e=>g.name=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(p,{label:"中文名","label-width":a},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{modelValue:g.post,"onUpdate:modelValue":s[3]||(s[3]=e=>g.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,u.Wm)(p,{label:"价格","label-width":a},{default:(0,u.w5)((()=>[(0,u.Wm)(i,{modelValue:g.post,"onUpdate:modelValue":s[4]||(s[4]=e=>g.post=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])):(0,u.kq)("",!0)])),_:1},8,["modelValue"])}}},g=a(89);const w=(0,g.Z)(c,[["__scopeId","data-v-10acd3da"]]);var f=w},9311:function(e,l,a){a.r(l),a.d(l,{default:function(){return U}});var t=a(2085),o=(a(2760),a(8061)),n=(a(6905),a(3421)),d=(a(6809),a(9007),a(7658),a(3396)),u=a(4870),m=a.p+"img/crewCap.270fe525.png",s=a(5936),i=a(1733),p=a(4505),r=a(65),c=a(8510),g=a(6265),w=a.n(g);const f=e=>((0,d.dD)("data-v-d8d6e82e"),e=e(),(0,d.Cn)(),e),_=f((()=>(0,d._)("img",{src:m,alt:""},null,-1)));var b=(0,d.aZ)({__name:"EmployeeUpdate",setup(e){let l=(0,r.oR)(),a=(0,u.qj)([{id:1,name:"蟹老板",post:"老板"},{id:2,name:"海绵宝宝",post:"厨师、服务员、清洁工"},{id:3,name:"章鱼哥",post:"柜台收银员"},{id:4,name:"派大星",post:"编外人员"}]),m={},g=(0,u.iH)(-1);const f=(0,u.iH)(1),b=(0,u.iH)(10);let h=(0,u.iH)(""),v=(0,d.Fl)((()=>(f.value-1)*b.value)),U=(0,d.Fl)((()=>v.value+b.value-1));const k=e=>{console.log(`${e} items per page`),console.log("pageSize：",b)},W=e=>{console.log(`current page: ${e}`)},V=(e,a)=>{console.log("修改员工：",e,a),g.value=a.id,l.commit("SET_DIALOG","crew")},C=(e,l)=>{(0,i.Z)(s.Z.userList,"GET",{},{owner:h.value}).then((e=>{a.splice(0,a.length,e.data[0]),console.log("查询结果：",a)}))};return(0,d.bv)((()=>{l.state.HomeModule.viewStatic||(0,i.Z)(s.Z.userList).then((e=>{for(let l of e.data)a.push(l)})),c.Z.on("userUpdate",(e=>{m=e,l.state.HomeModule.viewStatic?w().patch("./staticData.json/"+g.value,m,{}).then((e=>{console.log("收到了修改员工的请求:",e.data)})).catch((e=>{console.log("错了：",e)})):(0,i.Z)(s.Z.userList+"/"+g.value,"PATCH",m,{}).then((e=>{console.log("收到了修改员工的请求:",e.data)})),window.location.reload()}))})),(e,l)=>{const m=o.$Y,s=n.mi,i=o.eI,r=t.R;return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)(i,{data:(0,u.SU)(a).slice((0,u.SU)(v),(0,u.SU)(U)),stripe:"",style:{width:"100%"}},{default:(0,d.w5)((()=>[(0,d.Wm)(m,{prop:"id",label:"编号",width:"180"}),(0,d.Wm)(m,{prop:"name",label:"姓名",width:"180"}),(0,d.Wm)(m,{prop:"post",label:"职位",width:"180"}),(0,d.Wm)(m,{label:"操作"},{default:(0,d.w5)((e=>[(0,d.Wm)(s,{size:"small",onClick:l=>V(e.$index,e.row)},{default:(0,d.w5)((()=>[(0,d.Uk)("修改")])),_:2},1032,["onClick"]),(0,d.Wm)(s,{size:"small",type:"danger",onClick:l=>C(e.$index,e.row)},{default:(0,d.w5)((()=>[(0,d.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),(0,d.Wm)(r,{currentPage:f.value,"onUpdate:currentPage":l[0]||(l[0]=e=>f.value=e),"page-size":b.value,"onUpdate:page-size":l[1]||(l[1]=e=>b.value=e),layout:"total, sizes, prev, pager, next, jumper",total:(0,u.SU)(a).length,onSizeChange:k,onCurrentChange:W,style:{"margin-top":"30px"}},null,8,["currentPage","page-size","total"]),(0,d.Wm)(p.Z),_],64)}}}),h=a(89);const v=(0,h.Z)(b,[["__scopeId","data-v-d8d6e82e"]]);var U=v}}]);
//# sourceMappingURL=284.532e81b2.js.map